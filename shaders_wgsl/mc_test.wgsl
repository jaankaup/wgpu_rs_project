[[block]]
struct Counter {
    counter: u32;
};

[[block]]
struct McParams {
    base_position: vec4<f32>;
    isovalue: f32;
    cube_length: f32;
    for_future_usage1: f32;
    for_future_usage2: f32;
};

[[block]]
struct Vertex {
    v: vec4<f32>;
    n: vec4<f32>;
};

struct Cube {
    vectices: array<vec4<f32>, 8>;
    normals:  array<vec4<f32>, 8>;
};

[[group(0), binding(0)]]
var<uniform> mc_uniform: McParams;

[[group(0), binding(1)]]
var<storage> counter: [[access(read_write)]] Counter;

[[group(0), binding(2)]]
var<storage> output: [[access(write)]] Vertex;

let edge_info: array<vec2<u32>, 12> = array<vec2<u32>, 12>(
        vec2<u32>(0u,1u), vec2<u32>(1u,2u), vec2<u32>(2u,3u), vec2<u32>(3u,0u), 
        vec2<u32>(4u,5u), vec2<u32>(5u,6u), vec2<u32>(6u,7u), vec2<u32>(7u,4u), 
        vec2<u32>(0u,4u), vec2<u32>(1u,5u), vec2<u32>(2u,6u), vec2<u32>(3u,7u)
); 

let triTable: array<u32, 1280> = array<u32, 1280>(
    16777215u , 16777215u , 16777215u , 16777215u , 16777215u ,
    2051u     , 16777215u , 16777215u , 16777215u , 16777215u ,
    265u      , 16777215u , 16777215u , 16777215u , 16777215u ,
    67587u ,591873u ,16777215u ,16777215u ,16777215u ,
    66058u ,16777215u ,16777215u ,16777215u ,16777215u ,
    2051u ,66058u ,16777215u ,16777215u ,16777215u ,
    590346u ,521u ,16777215u ,16777215u ,16777215u ,
    133123u ,133640u ,657672u ,16777215u ,16777215u ,
    199426u ,16777215u ,16777215u ,16777215u ,16777215u ,
    2818u ,527104u ,16777215u ,16777215u ,16777215u ,
    67840u ,131851u ,16777215u ,16777215u ,16777215u ,
    68354u ,67851u ,591883u ,16777215u ,16777215u ,
    199169u ,723459u ,16777215u ,16777215u ,16777215u ,
    2561u ,2058u ,527114u ,16777215u ,16777215u ,
    198912u ,199433u ,723465u ,16777215u ,16777215u ,
    591882u ,657419u ,16777215u ,16777215u ,16777215u ,
    263944u ,16777215u ,16777215u ,16777215u ,16777215u ,
    262912u ,459524u ,16777215u ,16777215u ,16777215u ,
    265u ,525319u ,16777215u ,16777215u ,16777215u ,
    262409u ,263937u ,459521u ,16777215u ,16777215u ,
    66058u ,525319u ,16777215u ,16777215u ,16777215u ,
    197639u ,196612u ,66058u ,16777215u ,16777215u ,
    590346u ,589826u ,525319u ,16777215u ,16777215u ,
    133641u ,133383u ,132867u ,461060u ,16777215u ,
    525319u ,199426u ,16777215u ,16777215u ,16777215u ,
    721927u ,721412u ,131076u ,16777215u ,16777215u ,
    589825u ,525319u ,131851u ,16777215u ,16777215u ,
    263947u ,590859u ,592642u ,590337u ,16777215u ,
    199169u ,199434u ,460804u ,16777215u ,16777215u ,
    68362u ,66571u ,65540u ,461572u ,16777215u ,
    263944u ,589835u ,592650u ,720899u ,16777215u ,
    263947u ,264969u ,592650u ,16777215u ,16777215u ,
    591108u ,16777215u ,16777215u ,16777215u ,16777215u ,
    591108u ,2051u ,16777215u ,16777215u ,16777215u ,
    1284u ,66816u ,16777215u ,16777215u ,16777215u ,
    525572u ,525061u ,196869u ,16777215u ,16777215u ,
    66058u ,591108u ,16777215u ,16777215u ,16777215u ,
    196616u ,66058u ,264453u ,16777215u ,16777215u ,
    328202u ,328706u ,262146u ,16777215u ,16777215u ,
    133637u ,197125u ,197892u ,197640u ,16777215u ,
    591108u ,131851u ,16777215u ,16777215u ,16777215u ,
    2818u ,2059u ,264453u ,16777215u ,16777215u ,
    1284u ,261u ,131851u ,16777215u ,16777215u ,
    131333u ,132360u ,133131u ,264197u ,16777215u ,
    656139u ,655619u ,591108u ,16777215u ,16777215u ,
    264453u ,2049u ,526849u ,527114u ,16777215u ,
    328704u ,327691u ,330506u ,720899u ,16777215u ,
    328712u ,329738u ,657419u ,16777215u ,16777215u ,
    591624u ,329481u ,16777215u ,16777215u ,16777215u ,
    590592u ,591107u ,329475u ,16777215u ,16777215u ,
    1800u ,263u ,66823u ,16777215u ,16777215u ,
    66819u ,197895u ,16777215u ,16777215u ,16777215u ,
    591624u ,591111u ,655618u ,16777215u ,16777215u ,
    655618u ,591104u ,328448u ,329475u ,16777215u ,
    524290u ,524805u ,525575u ,656642u ,16777215u ,
    133637u ,132355u ,197895u ,16777215u ,16777215u ,
    461061u ,460809u ,199426u ,16777215u ,16777215u ,
    591111u ,591618u ,590336u ,132875u ,16777215u ,
    131851u ,264u ,67336u ,66823u ,16777215u ,
    721409u ,721159u ,459013u ,16777215u ,16777215u ,
    591112u ,525575u ,655619u ,656139u ,16777215u ,
    329472u ,327689u ,461568u ,65546u ,723456u ,
    723456u ,720899u ,656640u ,524295u ,329472u ,
    723461u ,461573u ,16777215u ,16777215u ,16777215u ,
    656901u ,16777215u ,16777215u ,16777215u ,16777215u ,
    2051u ,330246u ,16777215u ,16777215u ,16777215u ,
    589825u ,330246u ,16777215u ,16777215u ,16777215u ,
    67587u ,67848u ,330246u ,16777215u ,16777215u ,
    67077u ,132609u ,16777215u ,16777215u ,16777215u ,
    67077u ,66054u ,196616u ,16777215u ,16777215u ,
    591365u ,589830u ,518u ,16777215u ,16777215u ,
    329992u ,329730u ,328198u ,197128u ,16777215u ,
    131851u ,656901u ,16777215u ,16777215u ,16777215u ,
    720904u ,721408u ,656901u ,16777215u ,16777215u ,
    265u ,131851u ,330246u ,16777215u ,16777215u ,
    330246u ,67842u ,592642u ,591883u ,16777215u ,
    393995u ,394499u ,327939u ,16777215u ,16777215u ,
    2059u ,2821u ,1281u ,330502u ,16777215u ,
    199430u ,774u ,1541u ,1289u ,16777215u ,
    394505u ,395531u ,723208u ,16777215u ,16777215u ,
    330246u ,263944u ,16777215u ,16777215u ,16777215u ,
    262912u ,263939u ,394506u ,16777215u ,16777215u ,
    67840u ,330246u ,525319u ,16777215u ,16777215u ,
    656901u ,67847u ,67331u ,461060u ,16777215u ,
    393474u ,394497u ,263944u ,16777215u ,16777215u ,
    66053u ,328198u ,196612u ,197639u ,16777215u ,
    525319u ,589829u ,1541u ,518u ,16777215u ,
    459529u ,461060u ,197129u ,329990u ,132617u ,
    199426u ,460804u ,656901u ,16777215u ,16777215u ,
    330246u ,263938u ,262656u ,132875u ,16777215u ,
    265u ,263944u ,131851u ,330246u ,16777215u ,
    590337u ,592642u ,590859u ,461572u ,330246u ,
    525319u ,199429u ,197889u ,330502u ,16777215u ,
    327947u ,330502u ,65547u ,461572u ,1035u ,
    1289u ,1541u ,774u ,722435u ,525319u ,
    394505u ,395531u ,263945u ,461577u ,16777215u ,
    656393u ,394250u ,16777215u ,16777215u ,16777215u ,
    264710u ,264458u ,2051u ,16777215u ,16777215u ,
    655361u ,656896u ,394240u ,16777215u ,16777215u ,
    525057u ,524550u ,525828u ,393482u ,16777215u ,
    66569u ,66052u ,132612u ,16777215u ,16777215u ,
    196616u ,66057u ,132105u ,132612u ,16777215u ,
    516u ,262662u ,16777215u ,16777215u ,16777215u ,
    525058u ,524804u ,262662u ,16777215u ,16777215u ,
    656393u ,656900u ,721411u ,16777215u ,16777215u ,
    2050u ,133131u ,264458u ,264710u ,16777215u ,
    199426u ,262u ,1540u ,393482u ,16777215u ,
    394241u ,393482u ,264193u ,131339u ,527105u ,
    591364u ,590598u ,590083u ,722435u ,16777215u ,
    527105u ,524544u ,722433u ,590084u ,394241u ,
    199430u ,198144u ,1540u ,16777215u ,16777215u ,
    394248u ,722440u ,16777215u ,16777215u ,16777215u ,
    461318u ,460810u ,526602u ,16777215u ,16777215u ,
    1795u ,2567u ,2314u ,395018u ,16777215u ,
    656903u ,68103u ,67336u ,67584u ,16777215u ,
    656903u ,657153u ,67331u ,16777215u ,16777215u ,
    66054u ,67080u ,67593u ,525831u ,16777215u ,
    132617u ,133377u ,395017u ,2307u ,459529u ,
    460800u ,458758u ,393218u ,16777215u ,16777215u ,
    459522u ,395010u ,16777215u ,16777215u ,16777215u ,
    131851u ,656904u ,657417u ,525831u ,16777215u ,
    131079u ,132875u ,2311u ,395018u ,592391u ,
    67584u ,67336u ,68103u ,395018u ,131851u ,
    721409u ,721159u ,656897u ,395009u ,16777215u ,
    526598u ,525831u ,590086u ,722435u ,66310u ,
    2305u ,722439u ,16777215u ,16777215u ,16777215u ,
    460800u ,458758u ,199424u ,722432u ,16777215u ,
    461574u ,16777215u ,16777215u ,16777215u ,16777215u ,
    460299u ,16777215u ,16777215u ,16777215u ,16777215u ,
    196616u ,722694u ,16777215u ,16777215u ,16777215u ,
    265u ,722694u ,16777215u ,16777215u ,16777215u ,
    524553u ,525057u ,722694u ,16777215u ,16777215u ,
    655618u ,396039u ,16777215u ,16777215u ,16777215u ,
    66058u ,196616u ,396039u ,16777215u ,16777215u ,
    133376u ,133641u ,396039u ,16777215u ,16777215u ,
    396039u ,133635u ,657411u ,657672u ,16777215u ,
    459267u ,393735u ,16777215u ,16777215u ,16777215u ,
    458760u ,460288u ,393728u ,16777215u ,16777215u ,
    132870u ,131847u ,265u ,16777215u ,16777215u ,
    67074u ,67590u ,67848u ,526086u ,16777215u ,
    657158u ,655623u ,66311u ,16777215u ,16777215u ,
    657158u ,67338u ,67591u ,65544u ,16777215u ,
    775u ,1802u ,2569u ,395783u ,16777215u ,
    460298u ,461320u ,526857u ,16777215u ,16777215u ,
    395268u ,722950u ,16777215u ,16777215u ,16777215u ,
    198155u ,196614u ,1030u ,16777215u ,16777215u ,
    525835u ,525318u ,589825u ,16777215u ,16777215u ,
    590854u ,591363u ,590593u ,721670u ,16777215u ,
    395268u ,396040u ,133633u ,16777215u ,16777215u ,
    66058u ,196619u ,1547u ,1030u ,16777215u ,
    264968u ,263691u ,521u ,133641u ,16777215u ,
    657667u ,656130u ,590851u ,721670u ,263683u ,
    524803u ,525314u ,263682u ,16777215u ,16777215u ,
    1026u ,263682u ,16777215u ,16777215u ,16777215u ,
    67840u ,131844u ,132102u ,262920u ,16777215u ,
    67844u ,66562u ,132102u ,16777215u ,16777215u ,
    524547u ,525825u ,525318u ,395777u ,16777215u ,
    655616u ,655366u ,393220u ,16777215u ,16777215u ,
    263683u ,262920u ,395779u ,777u ,657667u ,
    657668u ,395780u ,16777215u ,16777215u ,16777215u ,
    264453u ,460299u ,16777215u ,16777215u ,16777215u ,
    2051u ,264453u ,722694u ,16777215u ,16777215u ,
    327681u ,328704u ,460299u ,16777215u ,16777215u ,
    722694u ,525060u ,197892u ,196869u ,16777215u ,
    591108u ,655618u ,460299u ,16777215u ,16777215u ,
    396039u ,66058u ,2051u ,264453u ,16777215u ,
    460299u ,328714u ,262666u ,262146u ,16777215u ,
    197640u ,197892u ,197125u ,656642u ,722694u ,
    459267u ,460290u ,328713u ,16777215u ,16777215u ,
    591108u ,2054u ,1538u ,395271u ,16777215u ,
    198146u ,198406u ,66816u ,328704u ,16777215u ,
    393736u ,395271u ,131336u ,264197u ,66824u ,
    591108u ,655622u ,67334u ,66311u ,16777215u ,
    67082u ,67334u ,65543u ,526080u ,591108u ,
    262154u ,264709u ,778u ,395783u ,198410u ,
    460298u ,461320u ,328714u ,264202u ,16777215u ,
    395525u ,396041u ,722953u ,16777215u ,16777215u ,
    198155u ,1539u ,1286u ,2309u ,16777215u ,
    2824u ,1291u ,261u ,329227u ,16777215u ,
    396035u ,393989u ,328449u ,16777215u ,16777215u ,
    66058u ,591115u ,592648u ,722182u ,16777215u ,
    2819u ,1547u ,2310u ,329225u ,66058u ,
    722949u ,722182u ,524293u ,656642u ,517u ,
    396035u ,393989u ,133635u ,656643u ,16777215u ,
    329737u ,328200u ,329218u ,198658u ,16777215u ,
    591110u ,591360u ,1538u ,16777215u ,16777215u ,
    66824u ,67584u ,329224u ,198658u ,393736u ,
    66822u ,131334u ,16777215u ,16777215u ,16777215u ,
    66310u ,67082u ,198662u ,329225u ,526598u ,
    655616u ,655366u ,591104u ,329216u ,16777215u ,
    776u ,329226u ,16777215u ,16777215u ,16777215u ,
    656646u ,16777215u ,16777215u ,16777215u ,16777215u ,
    722186u ,460043u ,16777215u ,16777215u ,16777215u ,
    722186u ,722693u ,525056u ,16777215u ,16777215u ,
    330503u ,330251u ,67840u ,16777215u ,16777215u ,
    657157u ,658183u ,591873u ,525057u ,16777215u ,
    721154u ,722689u ,460033u ,16777215u ,16777215u ,
    2051u ,66055u ,67333u ,459275u ,16777215u ,
    591621u ,590343u ,589826u ,133895u ,16777215u ,
    460034u ,459275u ,329986u ,197128u ,591874u ,
    132362u ,131845u ,198405u ,16777215u ,16777215u ,
    524800u ,525570u ,526085u ,655877u ,16777215u ,
    589825u ,330243u ,328455u ,199170u ,16777215u ,
    591874u ,590337u ,526082u ,655877u ,460034u ,
    66309u ,198405u ,16777215u ,16777215u ,16777215u ,
    2055u ,1793u ,67333u ,16777215u ,16777215u ,
    589827u ,590597u ,328455u ,16777215u ,16777215u ,
    591879u ,329991u ,16777215u ,16777215u ,16777215u ,
    329732u ,330248u ,658184u ,16777215u ,16777215u ,
    327684u ,330496u ,330251u ,721664u ,16777215u ,
    265u ,525322u ,526859u ,656389u ,16777215u ,
    658180u ,656389u ,721668u ,590849u ,196868u ,
    132353u ,133125u ,133896u ,263432u ,16777215u ,
    1035u ,2819u ,263435u ,133889u ,327947u ,
    517u ,1289u ,133893u ,263432u ,722949u ,
    590853u ,133891u ,16777215u ,16777215u ,16777215u ,
    132362u ,197890u ,197637u ,198660u ,16777215u ,
    330242u ,328196u ,262656u ,16777215u ,16777215u ,
    199170u ,197898u ,198661u ,263432u ,265u ,
    330242u ,328196u ,67842u ,590850u ,16777215u ,
    525317u ,525571u ,197889u ,16777215u ,16777215u ,
    1029u ,65541u ,16777215u ,16777215u ,16777215u ,
    525317u ,525571u ,589829u ,773u ,16777215u ,
    590853u ,16777215u ,16777215u ,16777215u ,16777215u ,
    264967u ,264459u ,592395u ,16777215u ,16777215u ,
    2051u ,264455u ,592647u ,592395u ,16777215u ,
    68107u ,68356u ,66560u ,459787u ,16777215u ,
    196868u ,197640u ,68100u ,459787u ,658180u ,
    264967u ,592644u ,590347u ,590082u ,16777215u ,
    591620u ,592647u ,590091u ,133889u ,2051u ,
    722692u ,721922u ,132096u ,16777215u ,16777215u ,
    722692u ,721922u ,525060u ,197124u ,16777215u ,
    133386u ,132873u ,131847u ,459785u ,16777215u ,
    592391u ,591620u ,655879u ,526080u ,131079u ,
    198410u ,199170u ,459786u ,68096u ,262154u ,
    68098u ,526084u ,16777215u ,16777215u ,16777215u ,
    264449u ,262407u ,459011u ,16777215u ,16777215u ,
    264449u ,262407u ,2049u ,526081u ,16777215u ,
    262147u ,459779u ,16777215u ,16777215u ,16777215u ,
    264199u ,16777215u ,16777215u ,16777215u ,16777215u ,
    592392u ,658184u ,16777215u ,16777215u ,16777215u ,
    196617u ,198923u ,723210u ,16777215u ,16777215u ,
    266u ,2568u ,526859u ,16777215u ,16777215u ,
    196874u ,721674u ,16777215u ,16777215u ,16777215u ,
    66059u ,68361u ,592648u ,16777215u ,16777215u ,
    196617u ,198923u ,66057u ,133897u ,16777215u ,
    523u ,524299u ,16777215u ,16777215u ,16777215u ,
    197131u ,16777215u ,16777215u ,16777215u ,16777215u ,
    131848u ,133130u ,657417u ,16777215u ,16777215u ,
    592386u ,2306u ,16777215u ,16777215u ,16777215u ,
    131848u ,133130u ,264u ,68104u ,16777215u ,
    68098u ,16777215u ,16777215u ,16777215u ,16777215u ,
    66312u ,590088u ,16777215u ,16777215u ,16777215u ,
    2305u ,16777215u ,16777215u ,16777215u ,16777215u ,
    776u ,16777215u ,16777215u ,16777215u ,16777215u ,
    16777215u ,16777215u ,16777215u ,16777215u ,16777215u
);


[[stage(compute), workgroup_size(4,4,4)]]

fn main([[builtin(global_invocation_id)]] global_id: vec3<u32>) {

}
